% Use    $ latexmk -bibtex -pdf
\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
% 定义所有的图片文件在 figures 子目录下
\graphicspath{{figures/}}
\usepackage{textcomp}
\usepackage{xcolor}

%Customize
\usepackage{diagbox}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Misaka: Interactive Swarm Testbed for Smart Grid Distributed Algorithm Development Test and Evaluation\\}

\author{\IEEEauthorblockN{1\textsuperscript{st} Tingliang Zhang}
\IEEEauthorblockA{\textit{Dept. Electrical Engineering} \\
\textit{Tsinghua University}\\
Beijing, China \\
zhangtl16@mails.tsinghua.edu.cn}
\and
\IEEEauthorblockN{2\textsuperscript{nd} Haiwang Zhong}
\IEEEauthorblockA{\textit{Dept. Electrical Engineering} \\
\textit{Tsinghua University}\\
Beijing, China \\
zhonghw@tsinghua.edu.cn}
}

\maketitle

\begin{abstract}
    In this article, we present Misaka, a visualized swarm testbed for smart grid algorithm evaluation, also an extendable open-source open-hardware platform for developing tabletop tangible swarm interfaces\cite{yan2019consensus}.

    The platform consists of a collection of custom-designed 3 omni-directional wheels robots each 10 cm in diameter, high accuracy localization through a microdot pattern overlaid on top of the activity sheets, and a software framework for application development and control, while remaining affordable (per unit cost about 30 USD at the prototype stage). We illustrate the potential of tabletop swarm user interfaces through a set of smart grid algorithm development application scenarios developed with Misaka.
\end{abstract}

\begin{IEEEkeywords}
    Smart grid, Human-Robot Interaction, Swarm user interfaces, Tangible Robots, Testbed
\end{IEEEkeywords}

\section{Introduction}

Most recently, an increasing penetration of distributed energy resources (DERs) in Energy Internet imposes great challenges to conventional centralized economic dispatch\cite{yan2019consensus}.

The centralized controller requires a high-bandwidth communication infrastructure and a high level of connectivity, poses reliability concerns due to the presence of a single point-of-failure, and is prone to modeling error. Moreover, both the future power grid and the communication network are likely to have a variable topology, which further undermines the efficacy of centralized mechanisms\cite{binetti2013distributed}.

In the smart grid environment, the decision-making procedures are moving from centralized to distributed frameworks\cite{yang2011communication}.

But distributed algorithms are relatively difficult to understand, and need communication test to determine feasibility in real hardware scenario. So we present a swarm testbed to visualize and evaluate the algorithm and communication design of those newly proposed distributed frameworks for smart grid. A Misaka is a hardware and software system: a small omni-wheel robot with position sensing capabilities that can be freely arranged and repositioned on any horizontal surface, both through user manipulation and computer control. 

Due to Misakas’ ability to quickly and freely reconfigure themselves spatially, a collection of Misakas can act as a display and can provide meaningful user output such as multiple scatterplots and line charts. Due to their ability to sense user actions, Misakas can also support rich input. For example, users can move or rotate Misakas to change parameter and manipulate others Misakas.The system is relatively lightweight and only requires any surface, such as a sheet of paper or a game board, with simple printed structured patterns for real-time high-accuracy 2D localization.

To stimulate future research on swarm user interfaces, we distribute our Misaka tabletop swarm user interface platform in open-source and open-hardware.

In summary, our contributions are:

\begin{itemize}
    \item The first open-source hardware/software platform for smart grid algorithm evaluation with tabletop swarm user interfaces
    \item Redefinition for Algorithm Visualization with several implemented examples
    \item A set of scenarios to illustrate the unprecedented possibilities offered by Misaka swarm and by tabletop swarm user interfaces in general
    \item A common platform for any algorithm visualization, and other interactive swarm user interfaces
\end{itemize}

Furthermore, as benefits, Misaka:

\begin{itemize}
    \item are modular each unit, can be extended with powerful platform, such as NVIDIA Jetson NANO.
    \item can simulate real smart grid communication scenarios with Zigbee modular on board
    \item can interact with user moving and turning the robot or using the illuminated capacitive touch keys on the robot 
    \item can be manipulated either individually or collectively
    \item are small enough to also act as “pixels” of a physical display
    \item can coexist in large numbers
    \item are lightweight, can operate on any horizontal surface, and relatively cost-effective: about 30 USD each now, down to \$15 if mass manufactured.
\end{itemize}

\section{Test Algorithm Explanation}

To explain Misaka usage in real smart grid algorithm evaluation scenario, we proposed a simplified average consensus algorithm to solve some distributed economic dispatch (DED) problems based on a consensus-based information exchange architecture, in which a generator only communicates with its neighbors. The algorithm is a linear consensus protocol based on Markov chain and incremental cost consensus (ICC) method.

Considering the actual situation, most complex algorithms require the central coordination node to distribute the transition matrix. The algorithm we proposed does not depend on the central node (coordinator) at the hardware level, The operation of each node is very simple, and it has been proved that this algorithm converges in a strongly connected system.

A distributed solution must be supported by a communication network that provides its information flow, i.e., each generating unit exchanges information with a subset of other units to make autonomous decisions\cite{binetti2013distributed}. The communication connections can be described by a connected graph $G=(V, E)$ where $V=\left\{\nu_{1}, \nu_{2}, \ldots, \nu_{n}\right\}$ is the set of nodes, and $E \subset V \times V$
is the set of edges. An edge $\left(\nu_{j}, \nu_{i}\right) \in E$ from node $j$ to node $i$ exists if node $i$ can receive information from node $j$.

We use the adjacency matrix A of the directed graph to describe its communication topology:

\begin{equation}
    \mathbf{A}=\left[a_{i j}\right]_{N \times N}
\end{equation}

\begin{equation}
    a_{\mathrm{ij}}=\left\{\begin{array}{ll}
    {1} & {\text { if } j \text{ can receive information directly from } i } \\
    {0} & {\text { Otherwise }}
    \end{array}\right.
\end{equation}

The information flow can be described by a weighted graph, whose transition matrix $Q$ are composed by communication weights:

\begin{equation}
    q_{i j}=\frac{a_{i j}}{\sum_{k=1}^{N} a_{i k}}
\end{equation}

Then the consensus protocol can be formulated as follows.

\begin{equation}\boldsymbol{s}^{(k+1)}=\boldsymbol{Q} \boldsymbol{s}^{(k)}\end{equation}

The physical meaning of the algorithm is: At the same time during each iteration, all weights connected to the node are averaged and assigned to this node.

In terms of the transition matrix: each element in the $Q$ matrix is the corresponding adjacent matrix element divided by the node outdegree (the total number of edges emitted).

To demonstrate the algorithm performance, we proposed two typical cases:

Case 1 is a 4-generator directed graph given in fig~\ref{fig:Directed-graph}.

\begin{figure}[htbp] % use float package if you want it here
    \centering
    \includegraphics[width=0.8\columnwidth]{Directed-graph.pdf}
    \caption{Case 1 4-node directed graph}
    \label{fig:Directed-graph}
\end{figure}

The adjacency matrix A is:

\begin{equation}
    A=\left[\begin{array}{cccc}
    {1} & {1} & {0} & {0} \\
    {0} & {1} & {1} & {0} \\
    {1} & {0} & {1} & {1} \\
    {0} & {1} & {0} & {1}
    \end{array}\right]
\end{equation}

The transition matrix is:

\begin{equation}
    Q=\left[\begin{array}{cccc}
    {\frac{1}{2}} & {\frac{1}{2}} & {0} & {0} \\
    {0} & {\frac{1}{2}} & {\frac{1}{2}} & {0} \\
    {\frac{1}{3}} & {0} & {\frac{1}{3}} & {\frac{1}{3}} \\
    {0} & {\frac{1}{2}} & {0} & {\frac{1}{2}}
    \end{array}\right]
\end{equation}

Take an initial value of 1, 2, 3, 4 and iterate 10 times:

With the iteration, the price curve of each unit is shown in Figure~\ref{fig:Result-1234}.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\columnwidth]{1234.pdf}
    \caption{Case 1 price curve of each unit}
    \label{fig:Result-1234}
\end{figure}

As the iterations approach consensus data are shown in the table~\ref{tab:Result-1234}.

\begin{table}[htbp]
    \centering
    \begin{tabular}{|l|l|l|l|l|}
    \hline
    \diagbox{Number of iterations}{$X_{i,j}$}{Node number}
       & 0        & 1        & 2        & 3        \\ \hline
    0  & 1        & 2        & 3        & 4        \\ \hline
    1  & 1.5      & 2.5      & 2.666667 & 3        \\ \hline
    2  & 2        & 2.583333 & 2.388889 & 2.75     \\ \hline
    3  & 2.291667 & 2.486111 & 2.37963  & 2.666667 \\ \hline
    4  & 2.388889 & 2.43287  & 2.445988 & 2.576389 \\ \hline
    5  & 2.41088  & 2.439429 & 2.470422 & 2.50463  \\ \hline
    6  & 2.425154 & 2.454925 & 2.461977 & 2.472029 \\ \hline
    7  & 2.44004  & 2.458451 & 2.453054 & 2.463477 \\ \hline
    8  & 2.449246 & 2.455752 & 2.45219  & 2.460964 \\ \hline
    9  & 2.452499 & 2.453971 & 2.454133 & 2.458358 \\ \hline
    10 & 2.453235 & 2.454052 & 2.454997 & 2.456165 \\ \hline
    \end{tabular}
    \caption{Case 1 iteration data}
    \label{tab:Result-1234}
\end{table}

\section{UI examples eith Misaka}

\subsection{Dynamic iteration process physicalization}

\subsection{Information transmission visualization}

\subsection{Time-series navigation}

We used Misaka to visualize and navigate in time-series data.

\subsection{Multiple scatterplots}


\section{Hardware and software design}

There are many tangible robots such as Zooids\cite{le2016zooids} and Cellulo\cite{ozgur2017cellulo}. We refer to their design and carefully designed Misaka testbed according to our specific application scenario.

\subsection{Hardware}

Traditional two wheels differential drive normally used on mobile robots have manoeuvrability limitations and take time to sort out\cite{ribeiro2004three}. 

An Omni wheel has an axis perpendicular to the axis of the core wheel, This allows the wheels to move in two directions, Omni-wheeled robots can move at any angle in any direction, without rotating beforehand.

We use custom-designed platform with three omni-directional wheels, drvied by micro stepper motor to precisely control the rotation angle of each wheel.

real-time high-accuracy 2D localization technique for mobile robots, based on simple printed patterns, building over algorithms previously developed for digital pens\cite{hostettler2016real}.



\subsection{Software}

\section{Limitations and future work}

\section{Conclusion}




\bibliographystyle{IEEEtran}
\bibliography{IEEEabrv,refs}

\end{document}
